/* =========================================
   Fundación Legis — CSS Unificado Elegante
   Botones outline granate (hover sólido),
   partners en grid, stats premium, placeholders,
   popup responsive y footer refinado
========================================= */

/* ---------- Variables ---------- */
:root{
  --brand: #8F273B;
  --brand-100:#F6E8EB;
  --brand-200:#E6B9C2;

  --green:#4CAF50;
  --green-700:#3C8E40;

  --bg:#ffffff;
  --bg-alt:#FAFAFA;
  --text:#111827;
  --text-muted:#6B7280;
  --border:#E5E7EB;

  --shadow-sm:0 2px 6px rgba(0,0,0,.06);
  --shadow-md:0 10px 28px rgba(0,0,0,.10);
  --shadow-lg:0 18px 50px rgba(0,0,0,.25);

  --r:.8rem;
}

/* ---------- Reset ---------- */
*{box-sizing:border-box}
html{font-size:16px;scroll-behavior:smooth}
body{margin:0;font-family:ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";color:var(--text);background:var(--bg);line-height:1.6}
img{max-width:100%;height:auto;display:block}
a{color:var(--text);text-decoration:none;transition:color .15s ease,background-size .2s ease,box-shadow .2s ease,transform .08s ease}

/* ---------- Utilidades ---------- */
.container{width:min(92%,1200px);margin-inline:auto}
.section{padding:3.5rem 0}
.section--alt{background:var(--bg-alt)}
.section--brand{background:linear-gradient(180deg,var(--brand-100),#fff 70%)}
.mt-0{margin-top:0}.mt-1{margin-top:.5rem}.mt-2{margin-top:1rem}.mt-3{margin-top:1.5rem}
.mb-0{margin-bottom:0}

h1,h2,h3{line-height:1.25;margin:0 0 1rem}
.lead{font-size:1.125rem;color:var(--text)}
.eyebrow{display:inline-block;font-size:.8rem;letter-spacing:.08em;text-transform:uppercase;color:var(--text-muted);border:1px solid var(--border);padding:.2rem .6rem;border-radius:999px;margin-bottom:.6rem}

/* ---------- Skip link ---------- */
.skip-link{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
.skip-link:focus{left:1rem;top:1rem;width:auto;height:auto;background:#fff;border:2px solid var(--brand);padding:.5rem .75rem;border-radius:.5rem;z-index:10000}

/* ---------- Header / Nav ---------- */
.header{background:#fff;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:999}
.navbar{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:1rem 0}
.brand{display:flex;align-items:center;gap:.6rem;color:var(--text);font-weight:800}
.brand img{height:44px;border-radius:.5rem}

.navlinks{display:flex;align-items:center;gap:.25rem .5rem;flex-wrap:wrap}
.navlinks a{padding:.55rem .65rem;border-radius:.6rem}
.navlinks a:hover{background:var(--bg-alt)}
.lang-switch{font-weight:700}

/* Menú móvil */
.menu-btn{display:none;align-items:center;gap:.5rem;background:#fff;color:var(--text);border:1px solid var(--border);border-radius:.8rem;padding:.55rem .7rem;min-height:44px}
.menu-btn:focus{outline:3px solid var(--brand-200);outline-offset:2px}
.menu-btn .menu-icon{width:20px;height:2px;background:var(--text);position:relative;border-radius:2px;display:inline-block}
.menu-btn .menu-icon::before,.menu-btn .menu-icon::after{content:"";position:absolute;left:0;right:0;height:2px;background:var(--text);border-radius:2px}
.menu-btn .menu-icon::before{top:-6px}.menu-btn .menu-icon::after{top:6px}
.menu-btn.is-open .menu-icon{background:transparent}
.menu-btn.is-open .menu-icon::before{transform:rotate(45deg);top:0}
.menu-btn.is-open .menu-icon::after{transform:rotate(-45deg);top:0}
@media (max-width:900px){
  .menu-btn{display:inline-flex}
  .navlinks{position:absolute;left:0;right:0;top:calc(100% + 8px);background:#fff;border:1px solid var(--border);border-radius:.9rem;padding:.6rem;box-shadow:var(--shadow-md);display:none;flex-direction:column;align-items:stretch}
  .navlinks.open{display:flex}
  .navlinks a{padding:.85rem 1rem;border-radius:.6rem}
  .navlinks a:hover{background:var(--bg-alt)}
  html.nav-open,body.nav-open{overflow:hidden}
}

/* ---------- Hero ---------- */
.hero{background:radial-gradient(1200px 420px at 20% -20%,var(--brand-100),transparent),#fff}
.hero .wrap{display:grid;grid-template-columns:1.1fr .9fr;gap:1.5rem}
@media (max-width:900px){.hero .wrap{grid-template-columns:1fr}}
.actions{display:flex;gap:.75rem;flex-wrap:wrap}

/* ---------- Botones (outline granate; hover sólido) ---------- */
.btn{
  display:inline-block;
  font-weight:700;
  border-radius:.65rem;
  padding:.65rem 1.05rem;
  border:2px solid var(--brand);
  color:var(--brand);
  background:transparent;
}
.btn:hover,.btn:active{
  background:var(--brand);
  color:#fff;
  box-shadow:0 8px 18px rgba(0,0,0,.08);
  transform:translateY(-1px);
}
.btn:focus-visible{outline:3px solid var(--brand-200);outline-offset:2px}

/* Enlaces con guiño de subrayado suave al hover */
a:not(.btn){background-image:linear-gradient(to top,var(--brand-100) 0%,var(--brand-100) 40%,transparent 40%);background-repeat:no-repeat;background-size:0% 100%;border-radius:.25rem}
a:not(.btn):hover,
a:not(.btn):focus-visible{color:var(--brand);background-size:100% 100%}

/* ---------- Cards & Grids ---------- */
.card{background:#fff;border:1px solid var(--border);border-radius:var(--r);box-shadow:var(--shadow-sm);padding:1.1rem}
.card--accent{border-left:4px solid var(--brand)}
.grid-2{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:1rem}
.grid-3{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:1rem}
@media (max-width:900px){.grid-2{grid-template-columns:1fr}.grid-3{grid-template-columns:1fr}}

/* ---------- Partners (logos) ---------- */
.partners{
  display:grid;
  grid-template-columns:repeat(2,minmax(0,1fr));
  gap:.9rem;
}
.partner-tile{
  background:#fff;border:1px solid var(--border);border-radius:.75rem;
  padding:.9rem;display:grid;place-items:center;height:92px;box-shadow:var(--shadow-sm);
  transition:transform .18s ease,box-shadow .18s ease,filter .18s ease,opacity .18s ease;
}
.partner-tile:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}
.partner-tile img{max-height:64px;max-width:100%;object-fit:contain;filter:grayscale(35%) contrast(1.05);opacity:.95}
.partner-tile:hover img{filter:none;opacity:1}

/* ---------- Listas y pasos ---------- */
ul.check{list-style:none;margin:0;padding-left:0}
ul.check li{position:relative;padding-left:1.4rem;margin:.45rem 0}
ul.check li::before{content:"✓";position:absolute;left:0;top:0;font-weight:700;color:var(--brand)}

ol.steps{counter-reset:st;list-style:none;padding:0;margin:0}
ol.steps li{counter-increment:st;background:#fff;border:1px solid var(--border);border-radius:.8rem;padding:.85rem .95rem;margin:.55rem 0;box-shadow:0 6px 18px rgba(0,0,0,.06)}
ol.steps li::before{content:counter(st);display:inline-grid;place-items:center;width:28px;height:28px;margin-right:.5rem;background:var(--brand);color:#fff;border-radius:999px;font-weight:700}

/* ---------- Stats premium ---------- */
.stats-block{padding-top:1rem}
.stats-block h2{text-align:center;margin-bottom:1.6rem}
.stats-grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:1rem}
@media (max-width:900px){.stats-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
.stat-card{background:#fff;border:1px solid var(--border);border-radius:1rem;padding:1.3rem;text-align:center;box-shadow:var(--shadow-sm);transition:transform .18s ease,box-shadow .18s ease}
.stat-card strong{display:block;font-size:1.9rem;line-height:1;color:var(--brand);margin-bottom:.4rem}
.stat-card span{display:block;color:var(--text-muted)}
.stat-card:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}

/* ---------- Bloques de color ---------- */
.color-block{
  background:linear-gradient(135deg,var(--brand) 58%,var(--green));
  color:#fff;
  padding:2.4rem 1.5rem;
  border-radius:var(--r);
  text-align:center;
  box-shadow:var(--shadow-md);
  margin:2rem 0;
}
.color-block .btn{border-color:#fff;color:#fff}
.color-block .btn:hover{background:#fff;color:var(--brand)}

/* ---------- Media (vídeo + fotos) ---------- */
.video-wrapper{position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:.9rem;background:#000;box-shadow:var(--shadow-sm)}
.video-wrapper iframe{position:absolute;inset:0;width:100%;height:100%}
.photos{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:.9rem;margin-top:1rem}
.photos img{border-radius:.6rem;border:1px solid var(--border);background:#fff}

/* Placeholders para Proyectos/Historia */
.placeholder-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:1rem}
@media (max-width:900px){.placeholder-grid{grid-template-columns:1fr}}
.placeholder{display:flex;align-items:center;justify-content:center;border:2px dashed var(--border);border-radius:.9rem;height:220px;background:var(--brand-100);color:var(--text-muted);font-weight:700}
.placeholder.is-video{background:linear-gradient(180deg,rgba(0,0,0,.2),rgba(0,0,0,.2)),var(--brand-100)}
.placeholder.is-video::before{content:"▶";font-size:1.1rem;margin-right:.5rem;color:var(--text-muted)}

/* ---------- Formularios ---------- */
form{display:grid;gap:.65rem}
label{display:block;font-weight:700}
input,textarea,select{width:100%;border:1px solid var(--border);border-radius:.6rem;padding:.7rem .8rem;font:inherit;background:#fff}
textarea{resize:vertical}
form button{justify-self:start}

/* ---------- Footer ---------- */
footer{background:#111;color:#eee;margin-top:2rem}
footer .inner{display:grid;grid-template-columns:1.2fr 1fr 1fr;gap:1.2rem;padding:2rem 0}
footer a{color:#eee}
footer a:hover{color:#fff}
footer .credit{opacity:.8}
@media (max-width:900px){footer .inner{grid-template-columns:1fr}}
footer .bottom{padding:.75rem 0;border-top:1px solid #222;text-align:center}

/* ---------- Cookie banner ---------- */
.cookie-banner{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid var(--border);box-shadow:0 -6px 18px rgba(0,0,0,.06);padding:.75rem 0;z-index:9000;display:none}
.cookie-banner .container{display:flex;align-items:center;justify-content:space-between;gap:1rem}
.cookie-actions{display:flex;gap:.5rem}
.cookie-actions button{border:1px solid var(--border);background:#fff;border-radius:.6rem;padding:.45rem .8rem}
.cookie-actions button.reject{background:#f3f4f6}
.cookie-actions button.prefs{border-style:dashed}

/* ---------- Popup (cartel responsive) ---------- */
.popup{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.75);z-index:9999;padding:clamp(8px,2vw,16px)}
.popup-content{position:relative;background:#000;border-radius:12px;max-width:min(860px,96vw);max-height:min(92vh,100dvh);overflow:hidden;padding:0;box-shadow:var(--shadow-lg)}
.popup-content img{max-width:100%;max-height:92vh;object-fit:contain}
.popup-close,#close-popup{position:absolute;top:8px;right:8px;width:44px;height:44px;border:none;border-radius:999px;background:rgba(0,0,0,.6);cursor:pointer}
.popup-close::before,.popup-close::after,#close-popup::before,#close-popup::after{content:"";position:absolute;left:50%;top:50%;width:22px;height:2px;background:#fff;border-radius:2px}
.popup-close::before,#close-popup::before{transform:translate(-50%,-50%) rotate(45deg)}
.popup-close::after,#close-popup::after{transform:translate(-50%,-50%) rotate(-45deg)}
html.nav-open,body.nav-open{overflow:hidden}
